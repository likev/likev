<!DOCTYPE html>
<html>
<head>
<!--
	last edit time:2011 3 9 22:40
-->
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<meta content="查询并在google maps中显示河南全省（包括郑州 洛阳 焦作 平顶山 驻马店 新乡 南阳 信阳 开封 漯河 安阳 商丘 周口 许昌 濮阳 三门峡 鹤壁 济源）各乡镇自动站的雨量，每分钟自动更新" name="description">
<title>查询并显示河南全省各乡镇的雨量</title>
<link href="css/main.css" rel="stylesheet" type="text/css" />
<link href="css/ui.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/themes/ui-lightness/jquery-ui.css" type="text/css" rel="stylesheet" />

<script src="script/lonlatdatas.js"></script>
<script src="script/user-overlay.js"></script>
<script src="script/lyRain.js"></script>

<script src="script/ui-init-event.js"></script>
<script src="script/ready.js"></script>

<script>

$(initialize);

</script>


<style>
<!--	#tabs { height: 800px; width:600px} -->
	.tabs-bottom { position: relative; } 
	.tabs-bottom .ui-tabs-panel { height: 140px; overflow: auto; } 
	.tabs-bottom .ui-tabs-nav { position: absolute !important; left: 0; bottom: 0; right:0; padding: 0 0.2em 0.2em 0; } 
	.tabs-bottom .ui-tabs-nav li { margin-top: -2px !important; margin-bottom: 1px !important; border-top: none; border-bottom-width: 1px; }
	.ui-tabs-selected { margin-top: -3px !important; }

</style>

<script>
$(function(){
/*
	//测试代码
	var count=0;
	for(var key in allLonLats){
		if(count++ > 500) break;
		var value = (Math.random()*30).toFixed(1);
		var direction = (Math.random()*360).toFixed(1);
		
		var lonlat = allLonLats[key].lonlat ||[-60,90];
		var pos = new google.maps.LatLng(lonlat[1], lonlat[0]);
		
		
		var overlay2 = new TemphOverlay(window.googleMap, pos, direction, key);
		var overlay3 = new RainOverlay(window.googleMap, pos, value, key);
		var overlay = new WindOverlay(window.googleMap, pos, [value,direction], key);
	}
	*/
});
</script>
</head>

<body>
<!--
<div class="tips"><span>您的浏览器版本过低，不支持报警，建议切换 <a href="http://firefox.com.cn/download/">firefox</a>  或 <a href="http://www.google.com/chrome?hl=zh-CN">chrome</a> 浏览器！</span></div>
-->
	<div id="main-toolbar" class="ui-widget-header ui-corner-all">
		<div class="tool-group">
			<input type="checkbox" id="toggle-temph"/><label for="toggle-temph">气温</label>
			<input type="checkbox" id="toggle-wind"/><label for="toggle-wind">风</label>
			<input type="checkbox" id="toggle-rain" checked="checked"/><label for="toggle-rain">降水</label>
		</div>
	
		<div class="tool-group">
			<select name="rain-range" id="rain-range" class="ui-like ui-widget ui-state-default ui-corner-left ui-corner-right">
				<option value="after20">20时以来</option>
				<option value="30m">30分钟</option>
				<option value="1h">1小时</option>
				<option selected="" value="3h">3小时</option> 
				<option value="6h">6小时</option>
				<option value="12h">12小时</option>
				<option value="24h">24小时</option>
				<option value="any">任意时段</option>
			</select>
		</div>
		
		<div class="tool-group">
			<button id="desc-time">最新</button>
			<button id="select-time">设置时间范围</button>
		</div>
		
		<div class="tool-group">
			<input type="checkbox" id="toggle-alarm"/><label for="toggle-alarm">报警</label>
			<button id="set-alarm">报警设置</button>
		</div>
		
		<div class="tool-group">
			<button id="log-info-button">信息</button>
		</div>
		
		<div class="tool-group cls" id="set-time-range">
			<input type="text" value="2011-01-26 10:10" size="17" readonly="readonly" name="beginTime" id="begin-time" class="show-time ui-like ui-widget ui-state-default ui-corner-left ui-corner-right"/>
			<div id="time-slider" class="show-time"></div>
			<input type="text" value="2011-01-26 10:10" size="17" name="endTime" id="end-time" class="show-time ui-like ui-widget ui-state-default ui-corner-left ui-corner-right"/>
		</div>
		
		<div id="set-alarm-dialog" title="报警设置">
			<div class="set-alarm-part">
				<h4>报警条件</h4>
				<div class='set-alarm-part-content'>
					<label><input type="checkbox" checked="checked" name="rain-alarm-check" id="rain-alarm-check"/>雨量值(mm)</label>
					<label><input type="text" size="10" value="10 30 50" name="rain-alarm-value" id="rain-alarm-value"/></label>
					
					<label><input type="checkbox" checked="checked" name="temph-alarm-check" id="temph-alarm-check"/>气温(°C)</label>
					<label><input type="text" size="10" value="37 40 42" name="temph-alarm-value" id="temph-alarm-value"/></label>
					
					<label><input type="checkbox" checked="checked" name="wind-alarm-check" id="wind-alarm-check"/>风速(m/s)</label>
					<label><input type="text" size="10"  value="12 16 20" name="wind-alarm-value" id="wind-alarm-value"/></label>
				</div>
			</div> <!-- end set-alarm-part -->
			
			<div class="set-alarm-part">
				<h4>报警方式</h4>
				<div class='set-alarm-part-content'>
					<label><input type="checkbox" checked="checked" name="alarm-volume-check" id="alarm-volume-check"/>声音(<a href="#" id="alarm-volume-test">测试</a>)</label>
					
					<label><input type="checkbox" disabled="disabled" name="alarm-sms-check" id="alarm-sms-check"/>短信(<a href="#" id="alarm-sms-test">测试</a>)</label>
					<label><input type="text" size="40" value="13698835392 13663880026" name="wind-alarm-tel" id="wind-alarm-tel"/></label>
				</div>
			</div> <!-- end set-alarm-part -->
			
			<div class="set-alarm-part">
				<h4>报警区域(<a href="#" id="set-alarm-area" title="开始后在地图上点击鼠标右键开始和结束">开始设置</a>)</h4>
				<div class='set-alarm-part-content'>
					中心：（<span id="alarm-center">34.323907, 112.109291</span>） 半径：<span id='alarm-radius'>100km</span>
				</div>
			</div> <!-- end set-alarm-part -->
		</div>
		
		<div id="log-info-dialog"  title="日志信息">

			<div id="log-info-tabs" class="tabs-bottom">
				<ul>
					<li><a href="#temph-alarm-log">气温报警</a></li>
					<li><a href="#wind-alarm-log">风速报警</a></li>
					<li><a href="#rain-alarm-log">雨量报警</a></li>
					<li><a href="#user-operate-log">用户操作</a></li>
					<li><a href="#ajax-data-log">数据请求</a></li>
				</ul>
				<div id="temph-alarm-log">
				气温
				</div>
				<div id="wind-alarm-log">
				风速
				</div>
				<div id="rain-alarm-log">
				雨量
				</div>
				
				<div id="user-operate-log">
				用户操作
				</div>
				
				<div id="ajax-data-log">
				数据请求
				</div>
			</div>
		</div><!-- End log-info-dialog -->
		
		<div class="cls"></div>
	</div> <!-- end #main-toolbar -->
		
	<div id="toolbar">
		<div id="map-toolbar">
			<h4 id="ajax-info"><span id="ajax-rain-info">等待加载数据</span> <span id="ajax-wind-temph-info"></span></h4>	
		</div>
		<div class="cls"></div>
	</div>
	
	<div id="container">
		<div id="left">
			<div id="map_canvas" ></div>
		</div>
	</div>
<!--	-->
	<audio id="alarm-sound" >
        <source src="sound/alarm.ogg" type="audio/ogg" />
        <source src="sound/alarm.mp3" type="audio/mp3" />
    </audio>

</body>
</html>